<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="alternate" type="application/rss+xml" href="https://newsroom.churchofjesuschrist.org/rss">
</head>

<body>
    <section class="boxes">

        <!-- Box 2 -->
        <div class="box">
            <form id="form" action="#" method="post">
                <fieldset>
                    <legend>Personal Information</legend>
                    <label><span>First Name:</span><input id="firstName" type="text"></label>
                    <label><span>Last Name:</span><input id="lastName" type="text"></label>
                    <label><span>Email:</span><input id="email" type="text"></label>
                    <label><span>Phone:</span><input id="phone" type="text"></label>
                </fieldset>
            </form>
        </div>
        <!-- Box 3 -->
        <div class="box">
            <h3>Personal Information</h3>
            <p>1. Enter your personal information and press SUBMIT.</p>
            <button class="btn" type="button" onClick="getdatos()">Submit</button>&nbsp;

        </div>
    </section>
    <section class="info">
        <!-- to show the information stored in Local Storage -->
        <div id="output"></div>
    </section>

    <script>
        function leer() {

            fetch(websiteUrl).then((res) => {
                res.text().then((htmlTxt) => {
                    var domParser = new DOMParser()
                    let doc = domParser.parseFromString(htmlTxt, 'text/html')
                    var feedUrl = doc.querySelector('link[type="application/rss+xml"]').href
                })
            }).catch(() => console.error('Error in fetching the website'))



        }

        function getdatos() {

            const key = "f7ee9df4b712457a78edab4465753b2a";
            const unit = "metric";
            const city = "bogota";
            const country = "co";


            var x = document.URL;



            document.getElementById("demo").innerHTML = x;



            /*    https://www.w3schools.com/js/js_ajax_http_response.asp */
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("demo").innerHTML =
                        this.responseText;
                }
            };
            xhttp.open("GET", "https://newsroom.churchofjesuschrist.org/rss", true);
            xhttp.send();


            fetch(feedUrl).then((res) => {
                res.text().then((xmlTxt) => {
                    var domParser = new DOMParser()
                    let doc = domParser.parseFromString(xmlTxt, 'text/xml')
                    doc.querySelectorAll('item').forEach((item) => {
                        let h1 = document.createElement('h1')
                        h1.textContent = item.querySelector('title').textContent
                        document.querySelector('output').appendChild(h1)
                    })
                })
            })
            leer();
        }
        }
    </script>
</body>

</html>